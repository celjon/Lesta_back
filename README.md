# Анализатор текста TF-IDF

Веб-приложение на FastAPI для анализа текстовых файлов и расчета метрики TF-IDF (Term Frequency-Inverse Document Frequency) для коллекции документов.

## Описание проекта

Приложение позволяет загрузить несколько текстовых файлов (документов) и провести анализ частоты встречаемости слов с использованием метрики TF-IDF. После обработки файлов отображается таблица с 50 словами, упорядоченными по убыванию значения IDF.

### Функциональность

- Загрузка нескольких текстовых файлов (.txt, .csv)
- Корректный расчет IDF на основе коллекции документов
- Предварительная обработка текста (удаление стоп-слов, пунктуации)
- Расчет метрик TF (Term Frequency) и IDF (Inverse Document Frequency)
- Вывод результатов в виде таблицы
- Постраничный вывод результатов
- Визуализация данных с помощью графиков и облака слов
- Экспорт результатов в CSV и Excel форматы
- Определение языка документов и статистика читабельности

## Требования

- Python 3.8 или выше
- FastAPI
- Jinja2
- NLTK
- Pandas
- Scikit-learn
- Matplotlib
- WordCloud

## Установка и запуск

1. Клонируйте репозиторий:
   ```
   git clone https://github.com/celjon/Lesta_back.git
   cd Lesta_back
   ```

2. Создайте и активируйте виртуальное окружение:
   ```
   python -m venv venv
   source venv/bin/activate  # Для Linux/Mac
   venv\Scripts\activate     # Для Windows
   ```

3. Установите зависимости:
   ```
   pip install -r requirements.txt
   ```

4. Запустите приложение:
   ```
   python run.py
   ```

5. Откройте браузер и перейдите по адресу:
   ```
   http://127.0.0.1:8002
   ```

## Структура проекта

```
Lesta_back/
│
├── app/
│   ├── __init__.py
│   ├── main.py         # Основной FastAPI файл
│   ├── models.py       # Модели данных
│   ├── text_processing.py  # Логика обработки текста и TF-IDF
│   ├── utils.py        # Утилиты для работы с текстом и визуализации
│   └── templates/      # HTML шаблоны
│       ├── index.html  # Форма загрузки файла
│       ├── advanced.html  # Расширенные настройки
│       ├── about.html  # Информация о проекте
│       └── results.html # Страница с результатами
│
├── static/             # Статические файлы (CSS, JS)
│   ├── css/
│   │   └── style.css
│   └── js/
│       └── script.js
│
├── tests/              # Тесты
│   ├── __init__.py
│   ├── test_app.py
│   └── conftest.py
│
├── run.py              # Файл для запуска приложения
├── .gitignore
├── README.md
└── requirements.txt
```

## Расчет TF-IDF

В данном приложении реализован корректный расчет TF-IDF для коллекции документов:

1. **TF (Term Frequency)** - Количество вхождений слова в документе.

2. **IDF (Inverse Document Frequency)** - Логарифм отношения общего количества документов к количеству документов, содержащих слово:
   ```
   IDF = log(N / df)
   ```
   где N - общее количество документов, df - количество документов, содержащих слово.

3. **TF-IDF** - Произведение TF и IDF.

## Использование

1. На главной странице загрузите один или несколько текстовых файлов (.txt или .csv)
2. При необходимости настройте параметры анализа на странице расширенных настроек
3. После загрузки и обработки файлов вы получите:
   - Таблицу с 50 словами, отсортированными по убыванию IDF
   - Визуализацию данных (графики и облако слов)
   - Статистику по документам и языку
4. Доступен экспорт результатов в CSV и Excel форматы

## Тестирование

Проект включает юнит-тесты для проверки маршрутов и логики обработки текста:
Тесты запускаются автоматически при выполнении `python run.py`.
